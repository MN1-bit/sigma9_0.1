# ============================================================================
# Strategy Base - ì „ëµ ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ (ABC)
# ============================================================================
# ğŸ“Œ ì´ íŒŒì¼ì˜ ì—­í• :
#   ëª¨ë“  íŠ¸ë ˆì´ë”© ì „ëµì´ ë°˜ë“œì‹œ ë”°ë¼ì•¼ í•˜ëŠ” "ê³„ì•½ì„œ(ì¸í„°í˜ì´ìŠ¤)"ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
#   ìƒˆë¡œìš´ ì „ëµì„ ë§Œë“¤ ë•ŒëŠ” ì´ StrategyBase í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
#
# ğŸ“Œ ì™œ ABC(Abstract Base Class)ë¥¼ ì‚¬ìš©í•˜ë‚˜?
#   - ì „ëµë§ˆë‹¤ êµ¬í˜„ ë°©ì‹ì´ ë‹¬ë¼ë„, ì—”ì§„ê³¼ í†µì‹ í•˜ëŠ” "ê³µí†µ ì–¸ì–´"ê°€ í•„ìš”í•©ë‹ˆë‹¤.
#   - ABCë¥¼ ìƒì†í•˜ë©´ í•„ìˆ˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.
#   - ì´ë ‡ê²Œ í•˜ë©´ "ì‹¤ìˆ˜ë¡œ ë©”ì„œë“œë¥¼ ë¹ ëœ¨ë¦¬ëŠ” ê²ƒ"ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
#
# ğŸ“Œ masterplan.md 13.3ì ˆ ê¸°ì¤€ êµ¬í˜„
# ============================================================================

"""
Strategy Base Module

ëª¨ë“  íŠ¸ë ˆì´ë”© ì „ëµì˜ ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
ì „ëµì€ Scanning Layerì™€ Trading Layerë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.

Example:
    class MyStrategy(StrategyBase):
        name = "My Strategy"
        version = "1.0.0"
        description = "ë‚˜ë§Œì˜ ì „ëµ"
        
        def on_tick(self, ticker, price, volume, timestamp):
            # ì „ëµ ë¡œì§ êµ¬í˜„
            return Signal(action="BUY", ticker=ticker, ...)
"""

from abc import ABC, abstractmethod
from dataclasses import dataclass, field
from typing import Any, Optional
from datetime import datetime


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Signal ë°ì´í„° í´ë˜ìŠ¤
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

@dataclass
class Signal:
    """
    ì „ëµì´ ìƒì„±í•˜ëŠ” ë§¤ë§¤ ì‹ í˜¸ (Signal)
    
    ì „ëµì˜ on_tick() ë˜ëŠ” on_bar() ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤.
    ì—”ì§„ì€ ì´ Signalì„ ë°›ì•„ì„œ ì‹¤ì œ ì£¼ë¬¸ì„ ì‹¤í–‰í• ì§€ ê²°ì •í•©ë‹ˆë‹¤.
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ì‰¬ìš´ ì„¤ëª… (ELI5 - Explain Like I'm 5):
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    Signalì€ "ë§¤ë§¤ ì‹ í˜¸ ë©”ì‹œì§€"ì…ë‹ˆë‹¤.
    
    ì˜ˆë¥¼ ë“¤ì–´, ì¹œêµ¬ì—ê²Œ "AAPL ì£¼ì‹ ì‚¬ì!" ë¼ê³  ë§í•  ë•Œ:
    - action = "BUY"       â†’ ë­˜ í• ì§€ (ì‚¬ë‹¤/íŒ”ë‹¤/ê¸°ë‹¤ë¦¬ë‹¤)
    - ticker = "AAPL"      â†’ ì–´ë–¤ ì£¼ì‹ì„
    - confidence = 0.85    â†’ ì–¼ë§ˆë‚˜ í™•ì‹ í•˜ëŠ”ì§€ (0~1, 1ì´ 100% í™•ì‹ )
    - reason = "ê¸‰ë“± ê°ì§€" â†’ ì™œ ì´ë ‡ê²Œ ìƒê°í•˜ëŠ”ì§€
    - metadata = {...}     â†’ ì¶”ê°€ ì •ë³´ (ê°€ê²©, ê±°ë˜ëŸ‰ ë“±)
    
    Attributes:
        action (str): 
            ë§¤ë§¤ í–‰ë™. "BUY", "SELL", "HOLD" ì¤‘ í•˜ë‚˜.
            - BUY: ë§¤ìˆ˜ (ì£¼ì‹ì„ ì‚°ë‹¤)
            - SELL: ë§¤ë„ (ì£¼ì‹ì„ íŒë‹¤)
            - HOLD: ê´€ë§ (ì•„ë¬´ê²ƒë„ ì•ˆ í•œë‹¤)
        
        ticker (str): 
            ì¢…ëª© ì½”ë“œ. ì˜ˆ: "AAPL", "TSLA", "NVDA"
        
        confidence (float): 
            ì‹ ë¢°ë„. 0.0 ~ 1.0 ì‚¬ì´ì˜ ê°’.
            - 0.0: ì „í˜€ í™•ì‹  ì—†ìŒ
            - 0.5: ë°˜ë°˜
            - 1.0: 100% í™•ì‹ 
            ì—”ì§„ì€ ì´ ê°’ì„ ë³´ê³  í¬ì§€ì…˜ í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        reason (str): 
            ì‹ í˜¸ ìƒì„± ì´ìœ . ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ì„¤ëª….
            ì˜ˆ: "OBV Divergence ê°ì§€ + Tick Velocity 8ë°° ì´ˆê³¼"
        
        metadata (dict): 
            ì¶”ê°€ ì •ë³´. ë””ë²„ê¹…ì´ë‚˜ ë¡œê¹…ì— ìœ ìš©.
            ì˜ˆ: {"price": 150.25, "volume": 10000, "score": 85}
        
        timestamp (datetime):
            ì‹ í˜¸ê°€ ìƒì„±ëœ ì‹œê°„. ìë™ìœ¼ë¡œ í˜„ì¬ ì‹œê°„ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.
    
    Example:
        >>> signal = Signal(
        ...     action="BUY",
        ...     ticker="AAPL",
        ...     confidence=0.85,
        ...     reason="Ignition Score 75ì  ëŒíŒŒ",
        ...     metadata={"price": 150.25, "ignition_score": 75}
        ... )
        >>> print(signal.action)
        'BUY'
    """
    
    # í•„ìˆ˜ í•„ë“œ (ë°˜ë“œì‹œ ê°’ì„ ë„£ì–´ì•¼ í•¨)
    action: str              # "BUY" | "SELL" | "HOLD"
    ticker: str              # ì¢…ëª© ì½”ë“œ
    confidence: float        # ì‹ ë¢°ë„ (0.0 ~ 1.0)
    reason: str              # ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ì´ìœ 
    
    # ì„ íƒ í•„ë“œ (ê¸°ë³¸ê°’ì´ ìˆì–´ì„œ ì•ˆ ë„£ì–´ë„ ë¨)
    metadata: dict = field(default_factory=dict)  # ì¶”ê°€ ì •ë³´
    timestamp: datetime = field(default_factory=datetime.now)  # ìƒì„± ì‹œê°„
    
    def __post_init__(self):
        """
        ê°ì²´ ìƒì„± í›„ ìœ íš¨ì„± ê²€ì‚¬ (Validation)
        
        - actionì´ ì˜¬ë°”ë¥¸ ê°’ì¸ì§€ í™•ì¸
        - confidenceê°€ 0~1 ë²”ìœ„ì¸ì§€ í™•ì¸
        """
        # action ìœ íš¨ì„± ê²€ì‚¬
        valid_actions = {"BUY", "SELL", "HOLD"}
        if self.action not in valid_actions:
            raise ValueError(
                f"actionì€ {valid_actions} ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•©ë‹ˆë‹¤. "
                f"ì…ë ¥ê°’: '{self.action}'"
            )
        
        # confidence ë²”ìœ„ ê²€ì‚¬
        if not 0.0 <= self.confidence <= 1.0:
            raise ValueError(
                f"confidenceëŠ” 0.0 ~ 1.0 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤. "
                f"ì…ë ¥ê°’: {self.confidence}"
            )
    
    def to_dict(self) -> dict:
        """
        Signalì„ ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜
        
        JSON ì§ë ¬í™”ë‚˜ ë¡œê¹…ì— ìœ ìš©í•©ë‹ˆë‹¤.
        
        Returns:
            dict: Signalì˜ ëª¨ë“  í•„ë“œë¥¼ ë‹´ì€ ë”•ì…”ë„ˆë¦¬
        """
        return {
            "action": self.action,
            "ticker": self.ticker,
            "confidence": self.confidence,
            "reason": self.reason,
            "metadata": self.metadata,
            "timestamp": self.timestamp.isoformat(),
        }


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# StrategyBase ì¶”ìƒ í´ë˜ìŠ¤ (ABC)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class StrategyBase(ABC):
    """
    ëª¨ë“  ì „ëµì˜ ë¶€ëª¨ í´ë˜ìŠ¤ (Abstract Base Class)
    
    ìƒˆë¡œìš´ ì „ëµì„ ë§Œë“¤ ë•ŒëŠ” ë°˜ë“œì‹œ ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
    @abstractmethodë¡œ í‘œì‹œëœ ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    ì‰¬ìš´ ì„¤ëª… (ELI5):
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    StrategyBaseëŠ” "ì „ëµ ì„¤ê³„ë„"ì…ë‹ˆë‹¤.
    
    ì„¤ê³„ë„ì—ëŠ” "ì—¬ê¸°ì— ë¬´ì—‡ì„ ë„£ì–´ì•¼ í•œë‹¤"ë¼ê³  ë¹ˆì¹¸ì´ í‘œì‹œë˜ì–´ ìˆì–´ìš”.
    ê° ì „ëµ(SeismographStrategy, MomentumStrategy ë“±)ì€ 
    ì´ ë¹ˆì¹¸ì„ ìê¸°ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ì±„ì›Œ ë„£ìŠµë‹ˆë‹¤.
    
    ì˜ˆë¥¼ ë“¤ì–´:
    - on_tick() ë©”ì„œë“œ: "í‹± ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ë©´ ì–´ë–»ê²Œ í• ì§€"ë¥¼ ì •ì˜
    - on_bar() ë©”ì„œë“œ: "ë¶„ë´‰ ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ë©´ ì–´ë–»ê²Œ í• ì§€"ë¥¼ ì •ì˜
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    êµ¬ì¡° (Layer êµ¬ë¶„):
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    1. Scanning Layer (Phase 1 & 2):
       - get_universe_filter(): ì–´ë–¤ ì¢…ëª©ì„ ë³¼ì§€ í•„í„° ì¡°ê±´
       - calculate_watchlist_score(): ë§¤ì§‘ ì ìˆ˜ ê³„ì‚° (0~100)
       - calculate_trigger_score(): ê¸‰ë“± ì ìˆ˜ ê³„ì‚° (0~100)
       - get_anti_trap_filter(): í•¨ì • ë°©ì§€ í•„í„° ì¡°ê±´
    
    2. Trading Layer:
       - initialize(): ì „ëµ ì´ˆê¸°í™” (1íšŒ í˜¸ì¶œ)
       - on_tick(): í‹± ë°ì´í„° ì²˜ë¦¬ â†’ Signal ë°˜í™˜
       - on_bar(): ë¶„ë´‰/ì¼ë´‰ ì²˜ë¦¬ â†’ Signal ë°˜í™˜
       - on_order_filled(): ì£¼ë¬¸ ì²´ê²° ì‹œ ì½œë°±
    
    3. Configuration Layer:
       - get_config(): í˜„ì¬ ì„¤ì •ê°’ ë°˜í™˜
       - set_config(): ì„¤ì •ê°’ ë³€ê²½ (ëŸ°íƒ€ì„)
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    í•„ìˆ˜ í´ë˜ìŠ¤ ì†ì„±:
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name (str): ì „ëµ ì´ë¦„ (GUI í‘œì‹œìš©)
    - version (str): ë²„ì „ (ì˜ˆ: "1.0.0")
    - description (str): ì „ëµ ì„¤ëª…
    
    Example:
        class MyStrategy(StrategyBase):
            name = "My Awesome Strategy"
            version = "1.0.0"
            description = "ë‚˜ë§Œì˜ ë©‹ì§„ ì „ëµ"
            
            def __init__(self):
                self.config = {"param1": {"value": 10, "min": 1, "max": 100}}
            
            def on_tick(self, ticker, price, volume, timestamp):
                if price > 100:
                    return Signal(action="BUY", ticker=ticker, ...)
                return None
            
            # ... ë‚˜ë¨¸ì§€ ë©”ì„œë“œ êµ¬í˜„ ...
    """
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # í´ë˜ìŠ¤ ì†ì„± (ëª¨ë“  ì „ëµì—ì„œ ì˜¤ë²„ë¼ì´ë“œ í•„ìˆ˜)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    name: str = "Unnamed Strategy"         # ì „ëµ ì´ë¦„
    version: str = "0.0.0"                  # ë²„ì „
    description: str = "No description"    # ì„¤ëª…
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Scanning Layer (Phase 1 & 2)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ“Œ ì´ ë©”ì„œë“œë“¤ì€ "ì–´ë–¤ ì¢…ëª©ì„ ê°ì‹œí• ì§€" ê²°ì •í•©ë‹ˆë‹¤.
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    @abstractmethod
    def get_universe_filter(self) -> dict:
        """
        Universe í•„í„° ì¡°ê±´ ë°˜í™˜ (Phase 1)
        
        ì „ì²´ ì¢…ëª© ì¤‘ì—ì„œ ê´€ì‹¬ ëŒ€ìƒì„ ì¢íˆëŠ” ì²« ë²ˆì§¸ í•„í„°ì…ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ë§ˆíŠ¸ì—ì„œ ë¬¼ê±´ì„ ê³ ë¥¼ ë•Œ "ê°€ê²© 5000ì› ì´í•˜, ìœ ê¸°ë†ë§Œ"ì²˜ëŸ¼
        ì¡°ê±´ì„ ì •í•´ì„œ ì„ íƒì§€ë¥¼ ì¤„ì´ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.
        
        Returns:
            dict: í•„í„° ì¡°ê±´ì„ ë‹´ì€ ë”•ì…”ë„ˆë¦¬
            
        Example:
            >>> return {
            ...     "price_min": 2.00,       # ìµœì†Œ ê°€ê²© $2
            ...     "price_max": 10.00,      # ìµœëŒ€ ê°€ê²© $10
            ...     "market_cap_min": 50e6,  # ìµœì†Œ ì‹œê°€ì´ì•¡ 5ì²œë§Œ
            ...     "market_cap_max": 300e6, # ìµœëŒ€ ì‹œê°€ì´ì•¡ 3ì–µ
            ...     "avg_volume_min": 100000 # ìµœì†Œ í‰ê·  ê±°ë˜ëŸ‰ 10ë§Œ
            ... }
        """
        pass
    
    @abstractmethod
    def calculate_watchlist_score(self, ticker: str, daily_data: Any) -> float:
        """
        ì¼ë´‰ ê¸°ë°˜ Watchlist ì ìˆ˜ ê³„ì‚° (Phase 1)
        
        ë§¤ì¼ ì‹œì¥ ê°œì¥ ì „ì— ì‹¤í–‰ë˜ì–´ "ì˜¤ëŠ˜ ì£¼ëª©í•  ì¢…ëª©"ì„ ì„ ì •í•©ë‹ˆë‹¤.
        ì ìˆ˜ê°€ ë†’ì€ ìƒìœ„ 50ê°œê°€ Watchlistì— ì˜¬ë¼ê°‘ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        í•™êµ ì‹œí—˜ ì ìˆ˜ì²˜ëŸ¼, ê° ì¢…ëª©ì— ì ìˆ˜ë¥¼ ë§¤ê¸°ëŠ” ê²ƒì…ë‹ˆë‹¤.
        "ì´ ì¢…ëª©ì€ ì„¸ë ¥ì´ ë§¤ì§‘í•˜ëŠ” ê²ƒ ê°™ìœ¼ë‹ˆ 80ì !"
        "ì´ ì¢…ëª©ì€ ë³„ë¡œë‹ˆê¹Œ 30ì ..."
        
        Args:
            ticker (str): ì¢…ëª© ì½”ë“œ (ì˜ˆ: "AAPL")
            daily_data (Any): ì¼ë´‰ ë°ì´í„° (pandas DataFrame ë˜ëŠ” dict)
                - open, high, low, close, volume ì»¬ëŸ¼ í¬í•¨
        
        Returns:
            float: 0 ~ 100 ì‚¬ì´ì˜ ì ìˆ˜
                - 60ì  ì´ìƒ: Watchlist í›„ë³´
                - 80ì  ì´ìƒ: ìµœìš°ì„  ê´€ì‹¬ ëŒ€ìƒ
        """
        pass
    
    @abstractmethod
    def calculate_trigger_score(
        self, 
        ticker: str, 
        tick_data: Any, 
        bar_data: Any
    ) -> float:
        """
        ì‹¤ì‹œê°„ Trigger ì ìˆ˜ ê³„ì‚° (Phase 2)
        
        Watchlistì— ìˆëŠ” ì¢…ëª©ë“¤ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì‹œí•˜ë©°,
        "ì§€ê¸ˆ ì§„ì…í•´ì•¼ í•˜ë‚˜?"ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ìš”ë¦¬í•  ë•Œ "êµ­ë¬¼ì´ ë“ê¸° ì‹œì‘í•˜ë©´ ë¶ˆì„ ì¤„ì—¬ë¼"ì²˜ëŸ¼,
        íŠ¹ì • ì¡°ê±´ì´ ì¶©ì¡±ë˜ë©´ í–‰ë™ì„ ì·¨í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
        
        "ê±°ë˜ëŸ‰ì´ ê°‘ìê¸° í­ë°œí–ˆì–´! ì ìˆ˜ 85ì ! ì§„ì…!"
        
        Args:
            ticker (str): ì¢…ëª© ì½”ë“œ
            tick_data (Any): ì‹¤ì‹œê°„ í‹± ë°ì´í„°
                - ìµœê·¼ 10ì´ˆê°„ì˜ ì²´ê²° ë°ì´í„° ë“±
            bar_data (Any): ë¶„ë´‰ ë°ì´í„° (1ë¶„ë´‰ ë“±)
        
        Returns:
            float: 0 ~ 100 ì‚¬ì´ì˜ ì ìˆ˜
                - 70ì  ì´ìƒ: ì§„ì… ì‹ í˜¸ ë°œìƒ (Anti-Trap í•„í„° í†µê³¼ ì‹œ)
        """
        pass
    
    @abstractmethod
    def get_anti_trap_filter(self) -> dict:
        """
        Anti-Trap í•„í„° ì¡°ê±´ ë°˜í™˜ (Phase 2)
        
        "í•¨ì •"ì— ë¹ ì§€ì§€ ì•Šê¸° ìœ„í•œ ì¶”ê°€ ê²€ì¦ ì¡°ê±´ì…ë‹ˆë‹¤.
        Trigger ì ìˆ˜ê°€ ë†’ì•„ë„ ì´ í•„í„°ë¥¼ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ì§„ì…í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        "ì´ê±° ì‹¸ê²Œ íŒŒë‹ˆê¹Œ ì‚¬ì•¼ì§€!" â†’ "ì ê¹, í˜¹ì‹œ ë¶ˆëŸ‰í’ˆ ì•„ëƒ? í™•ì¸í•´ë³´ì"
        ì¶”ê°€ë¡œ ê²€ì¦í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.
        
        Returns:
            dict: í•„í„° ì¡°ê±´ì„ ë‹´ì€ ë”•ì…”ë„ˆë¦¬
            
        Example:
            >>> return {
            ...     "max_spread_pct": 1.0,    # ìŠ¤í”„ë ˆë“œ 1% ì´í•˜
            ...     "min_minutes_after_open": 15,  # ê°œì¥ í›„ 15ë¶„ ê²½ê³¼
            ...     "must_above_vwap": True   # VWAP ìœ„ì— ìˆì–´ì•¼ í•¨
            ... }
        """
        pass
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Trading Layer
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ“Œ ì´ ë©”ì„œë“œë“¤ì€ "ì‹¤ì œ ë§¤ë§¤ ê²°ì •"ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    @abstractmethod
    def initialize(self) -> None:
        """
        ì „ëµ ì´ˆê¸°í™” (ë¡œë“œ ì‹œ 1íšŒ í˜¸ì¶œ)
        
        ì „ëµì´ ì²˜ìŒ ë¡œë“œë  ë•Œ í•„ìš”í•œ ì¤€ë¹„ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        ì˜ˆ: ë‚´ë¶€ ìƒíƒœ ì´ˆê¸°í™”, ë°ì´í„° ë¡œë“œ, ëª¨ë¸ ì¤€ë¹„ ë“±
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ê²Œì„ì„ ì‹œì‘í•˜ê¸° ì „ì— "ìƒˆ ê²Œì„" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´
        ìºë¦­í„° ë ˆë²¨, ì•„ì´í…œ ë“±ì´ ì´ˆê¸°í™”ë˜ëŠ” ê²ƒì²˜ëŸ¼,
        ì „ëµë„ ì²˜ìŒì— í•„ìš”í•œ ê²ƒë“¤ì„ ì„¸íŒ…í•©ë‹ˆë‹¤.
        """
        pass
    
    @abstractmethod
    def on_tick(
        self, 
        ticker: str, 
        price: float, 
        volume: int, 
        timestamp: Any
    ) -> Optional[Signal]:
        """
        í‹± ë°ì´í„° ì²˜ë¦¬ â†’ Signal ë°˜í™˜
        
        ì‹¤ì‹œê°„ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì²´ê²° ë°ì´í„°(í‹±)ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        ë§¤ìˆ˜/ë§¤ë„ ì‹ í˜¸ê°€ ìˆìœ¼ë©´ Signalì„ ë°˜í™˜í•˜ê³ ,
        ì—†ìœ¼ë©´ Noneì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì£¼ì‹ ì‹œì¥ì—ì„œ ê±°ë˜ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ "í‹±" ì†Œë¦¬ê°€ ë‚œë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”.
        "í‹±! AAPL 150.25ì— 100ì£¼ ê±°ë˜ë¨"
        ì´ ì •ë³´ê°€ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
        
        Args:
            ticker (str): ì¢…ëª© ì½”ë“œ
            price (float): ì²´ê²° ê°€ê²©
            volume (int): ì²´ê²° ìˆ˜ëŸ‰
            timestamp (Any): ì²´ê²° ì‹œê°„
        
        Returns:
            Optional[Signal]: 
                - ë§¤ë§¤ ì‹ í˜¸ê°€ ìˆìœ¼ë©´ Signal ê°ì²´ ë°˜í™˜
                - ì—†ìœ¼ë©´ None ë°˜í™˜
        """
        pass
    
    @abstractmethod
    def on_bar(self, ticker: str, ohlcv: dict) -> Optional[Signal]:
        """
        ë¶„ë´‰/ì¼ë´‰ ì²˜ë¦¬ â†’ Signal ë°˜í™˜
        
        ë¶„ë´‰ ë˜ëŠ” ì¼ë´‰ì´ ì™„ì„±ë  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        1ë¶„ë§ˆë‹¤ "ì´ë²ˆ 1ë¶„ ë™ì•ˆì˜ ìš”ì•½"ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
        - ì‹œê°€(Open): 1ë¶„ì˜ ì²« ê±°ë˜ ê°€ê²©
        - ê³ ê°€(High): 1ë¶„ ì¤‘ ê°€ì¥ ë†’ì€ ê°€ê²©
        - ì €ê°€(Low): 1ë¶„ ì¤‘ ê°€ì¥ ë‚®ì€ ê°€ê²©
        - ì¢…ê°€(Close): 1ë¶„ì˜ ë§ˆì§€ë§‰ ê±°ë˜ ê°€ê²©
        - ê±°ë˜ëŸ‰(Volume): 1ë¶„ ë™ì•ˆ ê±°ë˜ëœ ì´ ìˆ˜ëŸ‰
        
        Args:
            ticker (str): ì¢…ëª© ì½”ë“œ
            ohlcv (dict): OHLCV ë°ì´í„°
                - "open": ì‹œê°€
                - "high": ê³ ê°€
                - "low": ì €ê°€
                - "close": ì¢…ê°€
                - "volume": ê±°ë˜ëŸ‰
                - "timestamp": ì‹œê°„
        
        Returns:
            Optional[Signal]: ë§¤ë§¤ ì‹ í˜¸ ë˜ëŠ” None
        """
        pass
    
    @abstractmethod
    def on_order_filled(self, order: Any) -> None:
        """
        ì£¼ë¬¸ ì²´ê²° ì½œë°±
        
        ë‚´ê°€ ë„£ì€ ì£¼ë¬¸ì´ ì²´ê²°ë˜ì—ˆì„ ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‡¼í•‘ëª°ì—ì„œ ì£¼ë¬¸í•˜ê³  ë‚˜ë©´ "ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼ì´ ì˜¤ì£ ?
        ê·¸ê²ƒì²˜ëŸ¼ ì£¼ë¬¸ì´ ì²´ê²°ë˜ë©´ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
        
        ì—¬ê¸°ì„œ í¬ì§€ì…˜ ìƒíƒœ ì—…ë°ì´íŠ¸, ë¡œê·¸ ê¸°ë¡ ë“±ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        Args:
            order (Any): ì²´ê²°ëœ ì£¼ë¬¸ ì •ë³´
                - ticker: ì¢…ëª©
                - side: "BUY" ë˜ëŠ” "SELL"
                - qty: ìˆ˜ëŸ‰
                - price: ì²´ê²° ê°€ê²©
                - fill_time: ì²´ê²° ì‹œê°„
        """
        pass
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Configuration Layer
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ“Œ ì´ ë©”ì„œë“œë“¤ì€ "ì „ëµ ì„¤ì •ê°’"ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    @abstractmethod
    def get_config(self) -> dict:
        """
        ì „ëµ ì„¤ì •ê°’ ë°˜í™˜ (GUI í‘œì‹œìš©)
        
        í˜„ì¬ ì „ëµì˜ ëª¨ë“  ì„¤ì • íŒŒë¼ë¯¸í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        GUIì—ì„œ ì´ ê°’ë“¤ì„ í‘œì‹œí•˜ê³  ì‚¬ìš©ìê°€ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ê²Œì„ì˜ "ì„¤ì •" ë©”ë‰´ì²˜ëŸ¼, í˜„ì¬ ì„¤ì •ëœ ê°’ë“¤ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
        "ìŒì•… ë³¼ë¥¨: 70, í™”ë©´ ë°ê¸°: 50" ì´ëŸ° ì‹ìœ¼ë¡œìš”.
        
        Returns:
            dict: ì„¤ì •ê°’ ë”•ì…”ë„ˆë¦¬
            
        Example:
            >>> return {
            ...     "accumulation_threshold": {
            ...         "value": 60,
            ...         "min": 40,
            ...         "max": 80,
            ...         "description": "ë§¤ì§‘ ì ìˆ˜ ì§„ì… ê¸°ì¤€"
            ...     },
            ...     "ignition_threshold": {
            ...         "value": 70,
            ...         "min": 50,
            ...         "max": 90,
            ...         "description": "ê¸‰ë“± ì ìˆ˜ ì§„ì… ê¸°ì¤€"
            ...     }
            ... }
        """
        pass
    
    @abstractmethod
    def set_config(self, config: dict) -> None:
        """
        ì „ëµ ì„¤ì •ê°’ ë³€ê²½ (ëŸ°íƒ€ì„)
        
        ì‹¤í–‰ ì¤‘ì— ì„¤ì •ê°’ì„ ë³€ê²½í•©ë‹ˆë‹¤.
        GUIì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •í•˜ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
        
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ì‰¬ìš´ ì„¤ëª…:
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        ê²Œì„ í•˜ë‹¤ê°€ "ë„ˆë¬´ ì–´ë ¤ìš°ë‹ˆ ë‚œì´ë„ ë‚®ì¶”ì" í•  ë•Œ
        ì„¤ì •ì„ ë°”ê¾¸ëŠ” ê²ƒì²˜ëŸ¼, ì „ëµ íŒŒë¼ë¯¸í„°ë¥¼ ë°”ê¿‰ë‹ˆë‹¤.
        
        Args:
            config (dict): ë³€ê²½í•  ì„¤ì •ê°’
                - {"accumulation_threshold": {"value": 65}}
                - valueë§Œ ë³€ê²½í•˜ê³  min/max/descriptionì€ ìœ ì§€
        """
        pass


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ëª¨ë“ˆ ë ˆë²¨ í…ŒìŠ¤íŠ¸ ì½”ë“œ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    # Signal í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸
    print("=" * 60)
    print("Signal í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸")
    print("=" * 60)
    
    signal = Signal(
        action="BUY",
        ticker="AAPL",
        confidence=0.85,
        reason="í…ŒìŠ¤íŠ¸ ì‹ í˜¸",
        metadata={"price": 150.25}
    )
    print(f"Signal ìƒì„± ì„±ê³µ: {signal}")
    print(f"to_dict(): {signal.to_dict()}")
    
    # ìœ íš¨ì„± ê²€ì‚¬ í…ŒìŠ¤íŠ¸
    print("\nìœ íš¨ì„± ê²€ì‚¬ í…ŒìŠ¤íŠ¸:")
    try:
        invalid_signal = Signal(
            action="INVALID",  # ì˜ëª»ëœ action
            ticker="AAPL",
            confidence=0.5,
            reason="í…ŒìŠ¤íŠ¸"
        )
    except ValueError as e:
        print(f"âœ“ ì˜ëª»ëœ action ê°ì§€: {e}")
    
    try:
        invalid_signal = Signal(
            action="BUY",
            ticker="AAPL",
            confidence=1.5,  # ë²”ìœ„ ì´ˆê³¼
            reason="í…ŒìŠ¤íŠ¸"
        )
    except ValueError as e:
        print(f"âœ“ ì˜ëª»ëœ confidence ê°ì§€: {e}")
    
    # StrategyBase ì¶”ìƒ í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸
    print("\n" + "=" * 60)
    print("StrategyBase ABC í…ŒìŠ¤íŠ¸")
    print("=" * 60)
    
    try:
        # ABCë¥¼ ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ë©´ ì—ëŸ¬ ë°œìƒí•´ì•¼ í•¨
        instance = StrategyBase()
    except TypeError as e:
        print(f"âœ“ ABC ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™” ë°©ì§€ í™•ì¸: {type(e).__name__}")
    
    print("\nëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼! âœ“")
