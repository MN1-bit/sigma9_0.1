# v3.py

## ê¸°ë³¸ ì •ë³´

| í•­ëª© | ê°’ |
|------|---|
| **ê²½ë¡œ** | `backend/strategies/seismograph/scoring/v3.py` |
| **ì—­í• ** | Score V3: Pinpoint Algorithm (Z-Score + Harmony Bonus + Redundancy Penalty) |
| **ë¼ì¸ ìˆ˜** | 128 |
| **ë°”ì´íŠ¸** | 3,598 |

## ìƒìˆ˜

### `V3_WEIGHTS`
> V3 ê°€ì¤‘ì¹˜ (tight_range ìµœì¤‘ìš”)

| ì‹ í˜¸ | ê°€ì¤‘ì¹˜ | ì„¤ëª… |
|------|--------|------|
| `tight_range` | 0.35 | ë³€ë™ì„± ìˆ˜ì¶• (ìµœì¤‘ìš”) |
| `obv_divergence` | 0.30 | í¡ìˆ˜ (Absorption) |
| `accumulation_bar` | 0.20 | ë§¤ì§‘ë´‰ |
| `volume_dryout` | 0.15 | ê±°ëž˜ëŸ‰ ë§ˆë¦„ |

## í•¨ìˆ˜

### `calculate_score_v3(daily_data, intensities, weights?) -> float`
> Pinpoint Algorithm (V2 ë°œì „í˜•)

#### ìˆ˜ì‹
```
Score = clip(Base + Harmony Bonus, 0, 100) Ã— Redundancy Penalty
```

#### Args
- `daily_data`: ì¼ë´‰ ë°ì´í„°
- `intensities`: V3 ì‹œê·¸ë„ ê°•ë„ dict
- `weights`: ê°€ì¤‘ì¹˜ (ê¸°ë³¸: `V3_WEIGHTS`)

#### Returns
- `float`: 0.0~100.0 ì ìˆ˜

---

### `_calculate_harmony_bonus(intensities) -> float`
> ì‹œê·¸ë„ ì¡°í•© ë³´ë„ˆìŠ¤ (0.0~15.0)

| ì¡°ê±´ | ë³´ë„ˆìŠ¤ |
|------|--------|
| TR > 0.6 AND OBV > 0.5 | +10.0 |
| 3ê°œ ì´ìƒ ë™ì‹œ í™œì„± (>0.5) | +5.0 |

---

### `_calculate_redundancy_penalty(intensities) -> float`
> ì£½ì€ ì••ì¶• í•„í„°ë§ (0.5~1.0)

| ì¡°ê±´ | íŽ˜ë„í‹° |
|------|--------|
| TR > 0.7 AND OBV < 0.3 AND AB < 0.3 | Ã—0.5 |
| ê·¸ ì™¸ | Ã—1.0 |

## ðŸ”— ì™¸ë¶€ ì—°ê²°

### Imported By
| íŒŒì¼ | ì‚¬ìš© ëª©ì  |
|------|----------|
| `scoring/__init__.py` | `calculate_score_v3`, `V3_WEIGHTS` export |

## ì™¸ë¶€ ì˜ì¡´ì„±
- (ì—†ìŒ)
