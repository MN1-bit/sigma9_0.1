# massive_websocket_spec.json

## ê¸°ë³¸ ì •ë³´
| í•­ëª© | ê°’ |
|------|---|
| **ê²½ë¡œ** | `massive_websocket_spec.json` |
| **ì—­í• ** | Massive API WebSocket ìŠ¤íŠ¸ë¦¬ë° OpenAPI ìŠ¤í™ |
| **ë¼ì¸ ìˆ˜** | 5,550 |
| **íŒŒì¼ í¬ê¸°** | ~198 KB |

## ê°œìš”

Massive.comì˜ ì‹¤ì‹œê°„ WebSocket ìŠ¤íŠ¸ë¦¬ë° API ëª…ì„¸ì„œì…ë‹ˆë‹¤.  
`backend/data/massive_ws_client.py`ì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹  ì‹œ ì°¸ì¡°í•©ë‹ˆë‹¤.

## ì„œë²„ ì—”ë“œí¬ì¸íŠ¸

| ì„œë²„ | URL | ì„¤ëª… |
|------|-----|------|
| Real-time | `wss://socket.massive.com` | ì‹¤ì‹œê°„ ë°ì´í„° |
| Delayed | `wss://delayed.massive.com` | 15ë¶„ ì§€ì—° ë°ì´í„° |

## ì£¼ìš” ì´ë²¤íŠ¸ íƒ€ì…

### Stocks (ì£¼ì‹)
| ì´ë²¤íŠ¸ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| `T` | `/stocks/T` | ì‹¤ì‹œê°„ ê±°ë˜ (Trades) |
| `Q` | `/stocks/Q` | ì‹¤ì‹œê°„ í˜¸ê°€ (Quotes) |
| `A` | `/stocks/A` | ì´ˆë‹¨ìœ„ ì§‘ê³„ (Per Second) |
| `AM` | `/stocks/AM` | ë¶„ë‹¨ìœ„ ì§‘ê³„ (Per Minute) |
| `LULD` | `/stocks/LULD` | Limit-Up Limit-Down ì´ë²¤íŠ¸ |
| `NOI` | `/stocks/NOI` | Imbalance ë°ì´í„° |

### Options (ì˜µì…˜)
| ì´ë²¤íŠ¸ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| `T` | `/options/T` | ì˜µì…˜ ê±°ë˜ |
| `Q` | `/options/Q` | ì˜µì…˜ í˜¸ê°€ |
| `AM` | `/options/AM` | ë¶„ë‹¨ìœ„ ì§‘ê³„ |

### Crypto (ì•”í˜¸í™”í)
| ì´ë²¤íŠ¸ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| `XT` | `/crypto/XT` | ê±°ë˜ |
| `XQ` | `/crypto/XQ` | í˜¸ê°€ |
| `XA` | `/crypto/XA` | ì´ˆë‹¨ìœ„ ì§‘ê³„ |

### Forex (ì™¸í™˜)
| ì´ë²¤íŠ¸ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| `CA` | `/forex/CA` | ë¶„ë‹¨ìœ„ ì§‘ê³„ |
| `C` | `/forex/C` | í˜¸ê°€ |

## ë©”ì‹œì§€ êµ¬ì¡° ì˜ˆì‹œ

### Trade ì´ë²¤íŠ¸ (T)
```json
{
  "ev": "T",
  "sym": "MSFT",
  "x": 4,
  "i": "12345",
  "z": 3,
  "p": 114.125,
  "s": 100,
  "c": [0, 12],
  "t": 1536036818784,
  "q": 3681328
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `ev` | ì´ë²¤íŠ¸ íƒ€ì… |
| `sym` | í‹°ì»¤ ì‹¬ë³¼ |
| `p` | ê°€ê²© |
| `s` | ê±°ë˜ëŸ‰ |
| `t` | Unix MS íƒ€ì„ìŠ¤íƒ¬í”„ |
| `x` | ê±°ë˜ì†Œ ID |
| `c` | ì¡°ê±´ ì½”ë“œ |

### Minute Aggregate (AM)
```json
{
  "ev": "AM",
  "sym": "GTE",
  "v": 4110,
  "av": 9470157,
  "op": 0.4372,
  "vw": 0.4488,
  "o": 0.4488,
  "c": 0.4486,
  "h": 0.4489,
  "l": 0.4486,
  "s": 1610144640000,
  "e": 1610144700000
}
```

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `o/h/l/c` | OHLC ê°€ê²© |
| `v` | í‹± ë³¼ë¥¨ |
| `av` | ëˆ„ì  ë³¼ë¥¨ |
| `vw` | VWAP |
| `s/e` | ì‹œì‘/ì¢…ë£Œ íƒ€ì„ìŠ¤íƒ¬í”„ |

## ğŸ”— ì—°ê²°

### ì‚¬ìš© ìœ„ì¹˜
| íŒŒì¼ | ì‚¬ìš© ëª©ì  |
|------|----------|
| `backend/data/massive_ws_client.py` | WebSocket êµ¬ë… êµ¬í˜„ |
| `backend/core/realtime_scanner.py` | ì‹¤ì‹œê°„ ìŠ¤ìºë‹ |

### Data Flow
```mermaid
graph LR
    A["massive_websocket_spec.json"] -->|ìŠ¤í™ ì°¸ì¡°| B["massive_ws_client.py"]
    B -->|WSS ì—°ê²°| C["Massive.com WS"]
    C -->|ìŠ¤íŠ¸ë¦¼| D["tick_dispatcher.py"]
    D -->|í‹± ë°ì´í„°| E["Strategy Engine"]
```
