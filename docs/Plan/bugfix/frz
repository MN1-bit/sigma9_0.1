중요한 발견! score_v2=100.0으로 전송되고 있습니다. 파일에는 65.1이 있는데 100.0이 전달된다는 것은 데이터가 어딘가에서 덮어쓰이고 있다는 뜻입니다.

scanner.py
에서 score_v2가 올바르게 저장되는지 확인해보겠습니다:

Debugging V2 Score Display Issue
JSON file has correct score_v2=65.1. Test script returns correct value. But GUI receives 100.0. Problem may be in REST API or WebSocket transmission path.

Files Edited
test_api.py
test_score_v2.py
Progress Updates
1
Tracing why score_v2 shows 100.0 instead of actual calculated values

2
Verifying seismograph calculate_watchlist_score_detailed returns correct score_v2

3
Running test to verify calculate_watchlist_score_v2 returns correct values

4
Running simplified test to capture score_v2 output

5
Adding exception handling to test script to identify score_v2 calculation failure

6
Running test with file output to capture complete score_v2 data

7
Investigating realtime_scanner _handle_new_gainer for score_v2 overwrite issue

8
Investigating REST API watchlist endpoint for score_v2 transmission

테스트 스크립트 준비 완료

백엔드가 실행 중일 때 다음 명령어로 REST API의 score_v2 값을 확인해주세요:

bash
python test_api.py
결과에서 score_v2가 65.1으로 나오는지 또는 100.0이나 MISSING으로 나오는지 알려주세요.

(백엔드 실행 필요)

test_api.py
Open
