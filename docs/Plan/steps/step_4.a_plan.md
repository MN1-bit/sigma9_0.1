# Step 4.A: Tiered Watchlist System êµ¬í˜„ ê³„íš

> **ë²„ì „**: 1.1 (Revised)  
> **ìƒíƒœ**: ğŸ“‹ ê³„íš ì¤‘  
> **ì˜ˆìƒ ê¸°ê°„**: 5-7ì¼

---

## âš ï¸ ì„ í–‰ ì¡°ê±´ ë¶„ì„

> **ì§ˆë¬¸**: í˜„ì¬ ë¡œì§ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ watchlist ì¢…ëª©ë“¤ì— ìµœì‹  data(tick or 1m or ...)ë¥¼ ê³µê¸‰í•˜ê³  
> ê·¸ê²ƒì„ chartì—ì„œ í‘œì‹œí•˜ê²Œ í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ ë…¼ë¦¬ì ìœ¼ë¡œ ìœ„ ì‹œìŠ¤í…œì„ êµ¬ë™í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹Œê°€?

**ë‹µë³€**: âœ… **ì˜ˆ**

í˜„ì¬ ìƒíƒœ:
- âŒ Intraday ë°ì´í„° API ë¯¸êµ¬í˜„ (Step 2.7 ë¯¸ì™„ë£Œ)
- âŒ Tick ìŠ¤íŠ¸ë¦¬ë° â†’ GUI ì°¨íŠ¸ ë°˜ì˜ ë¯¸êµ¬í˜„
- âŒ Watchlist ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë¯¸êµ¬í˜„

**ê²°ë¡ **: Phase 0 (ë°ì´í„° íŒŒì´í”„ë¼ì¸)ì„ ë¨¼ì € ì™„ë£Œí•´ì•¼ Tier ì‹œìŠ¤í…œ êµ¬í˜„ ê°€ëŠ¥

---

## ğŸ“‹ ê°œìš”

í˜„ì¬ ë‹¨ì¼ Watchlistë¥¼ **2-Tier ì‹œìŠ¤í…œ**ìœ¼ë¡œ í™•ì¥í•˜ì—¬ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì§„ì… íƒ€ì´ë° ìµœì í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WATCHLIST PANEL                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ TIER 2 - HOT ZONE (Tick-level, 1ì´ˆ ê°±ì‹ )             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ AAPL  $178.25  1.2M  ğŸ”¥85  +3.2%  Z:V+2.1 Z:P+0.3 â”‚â”‚
â”‚  â”‚ NVDA  $495.30  2.8M  ğŸ”¥92  +5.1%  Z:V+3.2 Z:P+1.1 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ TIER 1 - WATCHLIST (1ë¶„/5ë¶„ ê°±ì‹ )                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ MSFT   +1.2%  [100]  ğŸ”¥45   560K                   â”‚â”‚
â”‚  â”‚ TSLA   -0.3%  [80]   ğŸ”¥32   1.2M                   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Phase êµ¬ì„± (Revised)

### ğŸ”´ Phase 4.A.0: ì‹¤ì‹œê°„ ë°ì´í„° íŒŒì´í”„ë¼ì¸ (ì„ í–‰ í•„ìˆ˜)

> **ì˜ì¡´ì„±**: Step 2.7 ì™„ë£Œ í•„ìš”

| Step | ì‘ì—… ë‚´ìš© | íŒŒì¼ |
|------|-----------|------|
| 4.A.0.1 | IBKR Tick ìŠ¤íŠ¸ë¦¬ë° â†’ WebSocket ë¸Œë¡œë“œìºìŠ¤íŠ¸ | `ibkr_connector.py`, `websocket.py` |
| 4.A.0.2 | Intraday Bar ë°ì´í„° API (1m, 5m) | `routes.py`, `database.py` |
| 4.A.0.3 | Chart ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (Tick â†’ Candlestick ë³€í™˜) | `chart_widget.py`, `ws_adapter.py` |
| 4.A.0.4 | Watchlist ì¢…ëª© Tick êµ¬ë… ê´€ë¦¬ | `ignition_monitor.py` |

---

### Phase 4.A.1: Tier 1 Enhancement (ê¸°ì¡´ Watchlist ê°œì„ )

| Step | ì‘ì—… ë‚´ìš© | íŒŒì¼ |
|------|-----------|------|
| 4.A.1.1 | Tier 1 ëª…ëª… ë° Dollar Volume ì»¬ëŸ¼ ì¶”ê°€ (K/M/B í‘œê¸°) | `dashboard.py` |
| 4.A.1.2 | í—¤ë” ì •ë ¬ ê¸°ëŠ¥ ì¶”ê°€ (ëª¨ë“  í—¤ë” ì˜¤ë¦„ì°¨ìˆœÂ·ë‚´ë¦¼ì°¨ìˆœ) | `dashboard.py` |
| 4.A.1.3 | Tier 1 ì£¼ê¸°ì  ê°±ì‹  (1ë¶„/5ë¶„ íƒ€ì´ë¨¸) | `backend_client.py`, `routes.py` |

---

### Phase 4.A.2: Tier 2 Hot Zone êµ¬í˜„

| Step | ì‘ì—… ë‚´ìš© | íŒŒì¼ |
|------|-----------|------|
| 4.A.2.1 | Tier 2 ë°ì´í„° ëª¨ë¸ ì„¤ê³„ (zenV, zenP í¬í•¨) | `models.py` |
| 4.A.2.2 | Ignition Score ìƒìœ„ 5ê°œì¢…ëª© Tier 2 ìŠ¹ê²© ë¡œì§ | `ignition_monitor.py` |
| 4.A.2.3 | Day Gainers â†’ Tier 2 ìë™ ì¶”ê°€ ë¡œì§ | `routes.py` |
| 4.A.2.4 | Tier 2 GUI íŒ¨ë„ ìƒì„± (Watchlist ìƒë‹¨ ë°°ì¹˜) | `dashboard.py` |
| 4.A.2.5 | Tier 2 Tick-level ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (1ì´ˆ) | `ws_adapter.py` |

---

### Phase 4.A.3: Z-Score Indicator êµ¬í˜„

| Step | ì‘ì—… ë‚´ìš© | íŒŒì¼ |
|------|-----------|------|
| 4.A.3.1 | zenV (Z-score Normalized Volume) ê³„ì‚° | `seismograph.py` |
| 4.A.3.2 | zenP (Z-score Normalized Price) ê³„ì‚° | `seismograph.py` |
| 4.A.3.3 | GUIì— Z-score í‘œì‹œ (Z:V+2.1 í˜•íƒœ) | `dashboard.py` |

---

### Phase 4.A.4: zenV-zenP Divergence ì „ëµ

| Step | ì‘ì—… ë‚´ìš© | íŒŒì¼ |
|------|-----------|------|
| 4.A.4.1 | "High zenV + Low zenP" ì¡°ê±´ íƒì§€ | `seismograph.py` |
| 4.A.4.2 | Divergence ê¸°ë°˜ ì§„ì… ì‹œê·¸ë„ ìƒì„± | `seismograph.py` |
| 4.A.4.3 | ê¸°ì¡´ Ignition ë¡œì§ê³¼ ë³‘í–‰ (OR ì¡°ê±´) | `trading_engine.py` |

---

## ğŸ“Š Tier ë¹„êµ

| í•­ëª© | Tier 1 (Watchlist) | Tier 2 (Hot Zone) |
|------|--------------------|-------------------|
| **ê°±ì‹  ì£¼ê¸°** | 1ë¶„ / 5ë¶„ | 1ì´ˆ (Tick) |
| **ìŠ¹ê²© ì¡°ê±´** | Scanner 50ì  ì´ˆê³¼ | Ignition â‰¥ 70 ë˜ëŠ” Day Gainer |
| **í‘œì‹œ í•­ëª©** | Ticker, ë“±ë½ìœ¨, Score, Ignition, DollarVol | Ticker, Price, DollarVol, Ignition, ë“±ë½ìœ¨, zenV, zenP |
| **ì •ë ¬** | ë“±ë½ìœ¨/Score/Ignition | ë“±ë½ìœ¨/Ignition/zenV/zenP |
| **ì¢…ëª© ìˆ˜** | ìµœëŒ€ 50ê°œ | **ìƒìœ„ 5ê°œ** (ì¢…í•©ìŠ¤ì½”ì–´ ê¸°ì¤€, ìµœëŒ€ 10ê°œ) |

---

## ğŸ”¢ ì¢…í•© ìŠ¤ì½”ì–´ ê³„ì‚°

```python
def composite_score(ignition_score: float, zenV: float, zenP: float) -> float:
    """Ignitionê³¼ zen-V/P í•©ì¹œ ì¢…í•© ìŠ¤ì½”ì–´ ì°¨ìš©, ê·¸ëŸ¬ë‚˜ ignition scoreë†’ì„ ê²½ìš° zen-v/pê°€ ë‚®ë”ë¼ë„ ìŠ¹ê²©"""
    zen_score = (zenV - zenP) * 10  # Volume-Price Divergence
    return max(ignition_score, zen_score)
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **Rate Limit**: Tier 2ì˜ 1ì´ˆ ê°±ì‹ ì€ IBKR Tick ë°ì´í„° ì‚¬ìš© (Polygon ì•„ë‹˜)
2. **ë©”ëª¨ë¦¬**: Tier 2 ì¢…ëª© ìˆ˜ ì œí•œ â†’ ì¢…í•©ìŠ¤ì½”ì–´ ìƒìœ„ 5ê°œ (ìµœëŒ€ 10ê°œ)
3. **ê¸°ì¡´ ë¡œì§ ìœ ì§€**: Ignition ê¸°ë°˜ ì§„ì…ì€ ê·¸ëŒ€ë¡œ, zenV-zenPëŠ” ì¶”ê°€ ì¡°ê±´

---

## ğŸ“ êµ¬í˜„ ìˆœì„œ (ê¶Œì¥)

```mermaid
graph LR
    A[Phase 4.A.0<br>ë°ì´í„° íŒŒì´í”„ë¼ì¸] --> B[Phase 4.A.1<br>Tier 1 ê°œì„ ]
    B --> C[Phase 4.A.3<br>Z-Score ì§€í‘œ]
    C --> D[Phase 4.A.2<br>Tier 2 êµ¬í˜„]
    D --> E[Phase 4.A.4<br>Divergence ì „ëµ]
```

**1ìˆœìœ„**: Phase 4.A.0 (ì„ í–‰ í•„ìˆ˜)  
**2ìˆœìœ„**: Phase 4.A.1 + 4.A.3 (ë³‘í–‰ ê°€ëŠ¥)  
**3ìˆœìœ„**: Phase 4.A.2 + 4.A.4